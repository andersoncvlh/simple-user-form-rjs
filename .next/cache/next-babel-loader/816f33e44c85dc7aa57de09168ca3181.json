{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport Button from \"@material-ui/core/Button\";\nimport Link from \"@material-ui/core/Link\";\nimport Typography from \"@material-ui/core/Typography\";\nimport PersonalInfo from \"../personalInfo/personalInfo\";\nimport ReviewOrder from \"../reviewOrder/reviewOrder\";\nimport Products from \"../products/products\";\nimport Payment from \"../payment/payment\";\n\nfunction Copyright() {\n  return /*#__PURE__*/_jsxs(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    align: \"center\",\n    children: [\"Copyright © \", /*#__PURE__*/_jsx(Link, {\n      color: \"inherit\",\n      href: \"https://material-ui.com/\",\n      children: \"Your Website\"\n    }), \" \", new Date().getFullYear(), \".\"]\n  });\n}\n\nconst useStyles = makeStyles(theme => ({\n  appBar: {\n    position: \"relative\"\n  },\n  layout: {\n    width: \"auto\",\n    marginLeft: theme.spacing(2),\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\n      width: 600,\n      marginLeft: \"auto\",\n      marginRight: \"auto\"\n    }\n  },\n  paper: {\n    marginTop: theme.spacing(3),\n    marginBottom: theme.spacing(3),\n    padding: theme.spacing(2),\n    [theme.breakpoints.up(600 + theme.spacing(3) * 2)]: {\n      marginTop: theme.spacing(6),\n      marginBottom: theme.spacing(6),\n      padding: theme.spacing(3)\n    }\n  },\n  stepper: {\n    padding: theme.spacing(3, 0, 5)\n  },\n  buttons: {\n    display: \"flex\",\n    justifyContent: \"flex-end\"\n  },\n  button: {\n    marginTop: theme.spacing(3),\n    marginLeft: theme.spacing(1)\n  }\n}));\nconst steps = [\"Personal information\", \"Products\", \"Payment details\", \"Review your order\"];\n\nconst Quotation = () => {\n  const classes = useStyles();\n  const {\n    0: activeStep,\n    1: setActiveStep\n  } = useState(0);\n  const {\n    0: products,\n    1: setProducts\n  } = useState([]);\n  const {\n    0: price,\n    1: setPrice\n  } = useState(0);\n\n  const getStepContent = step => {\n    switch (step) {\n      case 0:\n        return /*#__PURE__*/_jsx(PersonalInfo, {});\n\n      case 1:\n        return /*#__PURE__*/_jsx(Products, {\n          products: products,\n          onChange: handleChange,\n          price: price\n        });\n\n      case 2:\n        return /*#__PURE__*/_jsx(Payment, {});\n\n      case 3:\n        return /*#__PURE__*/_jsx(ReviewOrder, {});\n\n      default:\n        throw new Error(\"Unknown step\");\n    }\n  };\n\n  const handleChange = selectedProduct => {\n    const newProducts = products.slice();\n    const index = newProducts.indexOf(selectedProduct);\n\n    if (-1 === index) {\n      console.log(\"Não encontrado\");\n      return;\n    }\n\n    selectedProduct.selected = !selectedProduct.selected;\n    newProducts.splice(index, 1, selectedProduct);\n    const price = calculatePriceOfSelected();\n    setProducts(newProducts);\n    setPrice(price);\n  };\n\n  const calculatePriceOfSelected = () => {\n    let total = 0;\n    const selectedList = products.filter(pdt => pdt.selected);\n\n    if (selectedList && selectedList.length > 0) {\n      total = selectedList.map(product => product.price).reduce((pdt1, pdt2) => pdt1 + pdt2);\n    }\n\n    return parseFloat(total.toFixed(2));\n  };\n\n  const handleNext = () => {\n    setActiveStep(activeStep + 1);\n  };\n\n  const handleBack = () => {\n    setActiveStep(activeStep - 1);\n  };\n\n  return /*#__PURE__*/_jsxs(React.Fragment, {\n    children: [/*#__PURE__*/_jsx(CssBaseline, {}), /*#__PURE__*/_jsx(AppBar, {\n      position: \"absolute\",\n      color: \"default\",\n      className: classes.appBar,\n      children: /*#__PURE__*/_jsx(Toolbar, {\n        children: /*#__PURE__*/_jsx(Typography, {\n          variant: \"h6\",\n          color: \"inherit\",\n          noWrap: true,\n          children: \"Company name\"\n        })\n      })\n    }), /*#__PURE__*/_jsxs(\"main\", {\n      className: classes.layout,\n      children: [/*#__PURE__*/_jsxs(Paper, {\n        className: classes.paper,\n        children: [/*#__PURE__*/_jsx(Typography, {\n          component: \"h1\",\n          variant: \"h4\",\n          align: \"center\",\n          children: \"Life insurance quote\"\n        }), /*#__PURE__*/_jsx(Stepper, {\n          activeStep: activeStep,\n          className: classes.stepper,\n          children: steps.map(label => /*#__PURE__*/_jsx(Step, {\n            children: /*#__PURE__*/_jsx(StepLabel, {\n              children: label\n            })\n          }, label))\n        }), /*#__PURE__*/_jsx(React.Fragment, {\n          children: activeStep === steps.length ? /*#__PURE__*/_jsxs(React.Fragment, {\n            children: [/*#__PURE__*/_jsx(Typography, {\n              variant: \"h5\",\n              gutterBottom: true,\n              children: \"Thank you for your order.\"\n            }), /*#__PURE__*/_jsx(Typography, {\n              variant: \"subtitle1\",\n              children: \"Your order number is #2001539. We have emailed your order confirmation, and will send you an update when your order has shipped.\"\n            })]\n          }) : /*#__PURE__*/_jsxs(React.Fragment, {\n            children: [getStepContent(activeStep), /*#__PURE__*/_jsxs(\"div\", {\n              className: classes.buttons,\n              children: [activeStep !== 0 && /*#__PURE__*/_jsx(Button, {\n                onClick: handleBack,\n                className: classes.button,\n                children: \"Back\"\n              }), /*#__PURE__*/_jsx(Button, {\n                variant: \"contained\",\n                color: \"primary\",\n                onClick: handleNext,\n                className: classes.button,\n                children: activeStep === steps.length - 1 ? \"Place order\" : \"Next\"\n              })]\n            })]\n          })\n        })]\n      }), /*#__PURE__*/_jsx(Copyright, {})]\n    })]\n  });\n};\n\nexport const getStaticProps = async () => {\n  return {\n    props: {\n      company: 'Company name'\n    },\n    revalidate: 5\n  };\n};\nexport default Quotation;","map":null,"metadata":{},"sourceType":"module"}